var tmr,$sigimagedata=txt_in=document.getElementById("sigimagedata");function onSign(){var a=document.getElementById("cnv").getContext("2d");SetDisplayXSize(500);SetDisplayYSize(100);SetTabletState(0,tmr);SetJustifyMode(0);ClearTablet();if(tmr==null){tmr=SetTabletState(1,a,50)}else{SetTabletState(0,tmr);tmr=null;tmr=SetTabletState(1,a,50)}}function onClear(){ClearTablet()}function onDone(){if(NumberOfTabletPoints()==0){alert("Please sign before continuing")}else{SetTabletState(0,tmr);SetSigCompressionMode(1);document.FORM1.bioSigData.value=GetSigString();document.FORM1.sigStringData.value+=GetSigString();SetImageXSize(500);SetImageYSize(100);SetImagePenWidth(5);GetSigImageB64(SigImageCallback)}}function SigImageCallback(a){$sigimagedata.value=a}window.onunload=window.onbeforeunload=(function(){closingSigWeb()});function closingSigWeb(){ClearTablet();SetTabletState(0,tmr)};